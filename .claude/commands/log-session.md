# log-session

Claude Code 会话日志记录

## 使用方法
输入 `/log-session` 查看会话日志记录方法

## 日志文件约定
- **目录**: `/logs/`
- **文件名格式**: `YYMMDD_cc_prompt_log.md`
- **创建频率**: 每天一个文件
- **编码**: UTF-8

## 日志内容结构
```markdown
# Claude Code 会话日志 - YYYY-MM-DD

## 会话记录

### [HH:MM:SS] 用户输入
**提示词**:
```
[用户的完整输入内容]
```

**任务类型**: [分析/开发/调试/重构/文档]
**涉及文件**: [相关文件路径列表]

### [HH:MM:SS] Claude Code 响应
**关键反馈**:
- [主要执行的操作]
- [重要发现或问题]
- [创建/修改的文件]
- [执行的命令]

**工具使用**:
- Task: [搜索/分析任务]
- Read/Edit/Write: [文件操作]
- Bash: [执行的命令]
- 其他工具

**结果状态**: [成功/部分完成/需要跟进]

---
```

## 自动化日志记录流程
1. **检查日志目录**: 确保 `/logs/` 目录存在
2. **获取当前日期**: 生成格式为 `YYMMDD` 的日期字符串
3. **检查当日日志**: 如果当日日志文件不存在则创建
4. **记录会话内容**
5. **更新日志**: 在会话结束时更新日志文件

## 日志管理规则
- **保留期限**: 日志文件保留30天
- **文件大小**: 单个日志文件超过1MB时分割
- **敏感信息**: 不记录密码、密钥等敏感信息
- **权限控制**: 日志文件仅项目团队可访问

## 日志用途
1. **问题追溯**: 快速定位历史操作和决策过程
2. **协作效率**: 团队成员了解项目进展和变更历史
3. **知识积累**: 记录解决方案和最佳实践
4. **质量保证**: 审查 AI 辅助开发的决策过程
5. **学习改进**: 分析协作模式，优化工作流程

## 示例日志条目
```markdown
### [14:23:15] 用户输入
**提示词**:
```
创建 GitHub Issue 分析代码质量问题
```

**任务类型**: 分析
**涉及文件**: 整个代码库

### [14:23:16] Claude Code 响应
**关键反馈**:
- 执行了全面的代码质量分析
- 发现.NET Core 2.1安全风险问题
- 识别出190+数据库迁移复杂性
- 创建了详细的GitHub Issue #1

**工具使用**:
- Task: 项目结构分析, 代码质量问题分析
- Write: CODE_QUALITY_ANALYSIS.md
- Bash: GitHub CLI创建 Issue

**结果状态**: 成功完成
**Issue链接**: https://github.com/VCCampus/web3mh/issues/1
```